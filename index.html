<!-- index.html -->
<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Krezus - Inteligentny Bud≈ºet Osobisty</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üí∞</text></svg>">
    <link rel="stylesheet" href="src/styles/main.css">
</head>
<body>
    <!-- LOADER -->
    <div id="appLoader" class="app-loader">
        <div class="loader-spinner"></div>
        <p>≈Åadowanie...</p>
    </div>

    <!-- SEKCJA LOGOWANIA -->
    <div id="authSection" class="auth-container hidden">
        <div class="auth-hero">
            <div class="auth-hero-content">
                <h1 class="auth-logo">Krezus üí∞</h1>
                <p class="auth-tagline">Inteligentny Bud≈ºet Osobisty</p>
                <p class="auth-description">
                    Kompleksowe narzƒôdzie do zarzƒÖdzania finansami domowymi z inteligentnƒÖ kopertƒÖ dnia,
                    bud≈ºetami celowymi, planowaniem transakcji i szczeg√≥≈ÇowƒÖ analitykƒÖ wydatk√≥w.
                </p>

                <div class="auth-features">
                    <div class="feature-item">
                        <div class="feature-icon">üìä</div>
                        <h3>Pe≈Çna kontrola</h3>
                        <p>≈öled≈∫ wydatki i przychody w czasie rzeczywistym</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">üì©</div>
                        <h3>Koperta dnia</h3>
                        <p>Algorytm dostosowany do historii wydatk√≥w</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">üéØ</div>
                        <h3>Cele oszczƒôdno≈õciowe</h3>
                        <p>Oszczƒôdzaj na konkretne cele z automatycznymi sugestiami</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">üìÖ</div>
                        <h3>Planowane transakcje</h3>
                        <p>Zaplanuj przysz≈Çe wp≈Çywy i wydatki</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">üìà</div>
                        <h3>Analityka</h3>
                        <p>Wykresy, por√≥wnania okres√≥w i symulacja wydatk√≥w</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">üè∑Ô∏è</div>
                        <h3>Kategorie</h3>
                        <p>Organizuj wydatki wed≈Çug w≈Çasnych kategorii</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">üë•</div>
                        <h3>Wsp√≥≈Çdzielenie</h3>
                        <p>ZarzƒÖdzaj bud≈ºetem z rodzinƒÖ lub wsp√≥≈Çlokatorami</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">üìù</div>
                        <h3>Historia i logi</h3>
                        <p>Pe≈Çna historia zmian i korekty bud≈ºetu</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">üîí</div>
                        <h3>Bezpiecze≈Ñstwo</h3>
                        <p>Szyfrowane dane z dostƒôpem z ka≈ºdego urzƒÖdzenia</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="auth-form-container">
            <div class="auth-form-box">
                <h2 class="auth-form-title">Witaj ponownie! üëã</h2>
                
                <div class="auth-tabs">
                    <button class="tab-btn active" data-action="show-auth-tab" data-tab="login">Logowanie</button>
                    <button class="tab-btn" data-action="show-auth-tab" data-tab="register">Rejestracja</button>
                </div>

                <div id="loginTab" class="tab-content active">
                    <form id="loginForm">
                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" name="loginEmail" required placeholder="twoj@email.pl">
                        </div>
                        <div class="form-group">
                            <label>Has≈Ço</label>
                            <input type="password" name="loginPassword" required placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                        </div>
                        <button type="submit" class="btn btn-primary" style="width: 100%;">Zaloguj siƒô</button>
                    </form>
                </div>

                <div id="registerTab" class="tab-content">
                    <form id="registerForm">
                        <div class="form-group">
                            <label>Nazwa u≈ºytkownika</label>
                            <input type="text" name="registerDisplayName" required minlength="2" placeholder="Jan Kowalski">
                        </div>
                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" name="registerEmail" required placeholder="twoj@email.pl">
                        </div>
                        <div class="form-group">
                            <label>Has≈Ço (min. 6 znak√≥w)</label>
                            <input type="password" name="registerPassword" required minlength="6" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                        </div>
                        <button type="submit" class="btn btn-success" style="width: 100%;">Zarejestruj siƒô</button>
                    </form>
                </div>
            </div>
        </div>

        <footer class="auth-footer">
            <div class="auth-footer-content">
                <p>&copy; 2025 <strong>Krezus</strong></p>
                <p>‚Ä¢</p>
                <p>Stworzone przez <a href="https://wordsmithseo.pl" target="_blank" rel="noopener noreferrer">S≈Çawomir Sprawski</a></p>
                <p>‚Ä¢</p>
                <p class="footer-rights">Wszelkie prawa zastrze≈ºone</p>
            </div>
        </footer>
    </div>

    <div id="appSection" class="hidden">
        <header class="app-header">
            <div class="header-content">
                <div class="app-title">
                    <h1>Krezus</h1>
                    <span id="appVersion" class="app-version"></span>
                </div>
                <div class="header-user">
                    <div class="user-info">
                        <span id="username"></span>
                    </div>
                    <button id="profileBtn" class="btn-profile" data-action="open-profile" aria-label="Profil u≈ºytkownika">üë§ Profil</button>
                    <button class="btn-logout" data-action="handle-logout">Wyloguj</button>
                </div>
            </div>
        </header>

        <nav class="app-nav">
            <div class="nav-container">
                <div class="nav-menu" id="navMenu">
                    <button class="nav-btn active" data-action="show-section" data-section="summarySection" aria-label="Podsumowanie">üìä Podsumowanie</button>
                    <button class="nav-btn" data-action="show-section" data-section="envelopeSection" aria-label="Koperta dnia">üì© Koperta dnia</button>
                    <button class="nav-btn" data-action="show-section" data-section="sourcesSection" aria-label="Przychody">üí∞ Przychody</button>
                    <button class="nav-btn" data-action="show-section" data-section="expensesSection" aria-label="Wydatki">üí∏ Wydatki</button>
                    <button class="nav-btn" data-action="show-section" data-section="categoriesSection" aria-label="Kategorie">üè∑Ô∏è Kategorie</button>
                    <button class="nav-btn" data-action="show-section" data-section="analyticsSection" aria-label="Analityka">üìà Analityka</button>
                    <button class="nav-btn" data-action="show-section" data-section="savingsGoalsSection" aria-label="Oszczƒôdzanie">üéØ Oszczƒôdzanie</button>
                    <button class="nav-btn" data-action="show-section" data-section="settingsSection" aria-label="Ustawienia">‚öôÔ∏è Ustawienia</button>
                </div>
            </div>
        </nav>

        <div class="container">
            <section id="summarySection" class="section active">
                <div class="section-card">
                    <h2>üí∞ Podsumowanie bud≈ºetu</h2>
                    <div class="stats-grid">
                        <div class="stat-card beige">
                            <div class="stat-label">Dostƒôpne ≈õrodki</div>
                            <div class="stat-value"><span id="availableFunds">0.00</span><span class="stat-unit">z≈Ç</span></div>
                            <div id="savingsInfo" style="display: none;"></div>
                        </div>
                    </div>

                    <h3>üìÖ Wydatki w okresach</h3>
                    <div class="stats-grid">
                        <div class="stat-card danger">
                            <div class="stat-label">Wydano dzi≈õ</div>
                            <div class="stat-value"><span id="todayExpenses">0.00</span><span class="stat-unit">z≈Ç</span></div>
                        </div>
                        <div class="stat-card danger">
                            <div class="stat-label">Wydano w tym tygodniu</div>
                            <div class="stat-value"><span id="weekExpenses">0.00</span><span class="stat-unit">z≈Ç</span></div>
                        </div>
                        <div class="stat-card danger">
                            <div class="stat-label">Wydano w tym miesiƒÖcu</div>
                            <div class="stat-value"><span id="monthExpenses">0.00</span><span class="stat-unit">z≈Ç</span></div>
                        </div>
                    </div>

                    <h3>üìä Limity dzienne</h3>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-label">Limit dzienny (do <span id="currentLimitDate1">-</span>)</div>
                            <div class="stat-value"><span id="currentLimit1">0.00</span><span class="stat-unit">z≈Ç/dzie≈Ñ</span></div>
                            <div class="stat-label mt-10">Pozosta≈Ço <span id="currentDaysLeft1">0</span> dni</div>
                            <div id="prognosis1" class="prognosis-text" style="display: none;"></div>
                        </div>
                        <div id="currentLimit2Section" class="stat-card" style="display: none;">
                            <div class="stat-label">Limit dzienny (do <span id="currentLimitDate2">-</span>)</div>
                            <div class="stat-value"><span id="currentLimit2">0.00</span><span class="stat-unit">z≈Ç/dzie≈Ñ</span></div>
                            <div class="stat-label mt-10">Pozosta≈Ço <span id="currentDaysLeft2">0</span> dni</div>
                            <div id="prognosis2" class="prognosis-text" style="display: none;"></div>
                        </div>
                    </div>
                    
                    <h3>üìä Planowane transakcje</h3>
                    <div class="stats-grid">
                        <div class="stat-card success">
                            <div class="stat-label">Planowane przychody</div>
                            <div class="stat-value"><span id="futureIncome">0.00</span><span class="stat-unit">z≈Ç</span></div>
                        </div>
                        <div class="stat-card danger">
                            <div class="stat-label">Planowane wydatki</div>
                            <div class="stat-value"><span id="futureExpense">0.00</span><span class="stat-unit">z≈Ç</span></div>
                        </div>
                    </div>
                    
                    <h3>üéØ Dynamika wydatk√≥w</h3>
                    <div id="dynamicsInfo" class="spending-dynamics"></div>
                </div>
            </section>

            <section id="envelopeSection" class="section">
                <div class="section-card">
                    <h2>üì© Koperta dnia</h2>
                    <div class="envelope-container">
                        <div class="stat-label">Koperta dnia:</div>
                        <div class="envelope-amount"><span id="envelopeAmount">0.00</span> z≈Ç</div>
                        <div id="envelopePeriodInfo" style="margin-top: 8px; font-size: 0.9rem; opacity: 0.85;"></div>
                        <div id="envelopeCalculationInfo" style="margin-top: 10px; margin-bottom: 15px;"></div>
                        <div class="spending-gauge">
                            <div id="spendingGauge" class="gauge-fill" style="width: 0%"></div>
                        </div>
                        <div class="envelope-details">
                            <div><strong>Wydano:</strong> <span id="envelopeSpent">0.00</span> z≈Ç</div>
                            <div><strong>Pozosta≈Ço:</strong> <span id="envelopeRemaining">0.00</span> z≈Ç</div>
                        </div>
                        <div id="envelopeOverLimit" style="display: none;"></div>
                        <div class="envelope-median"><strong>Mediana wydatk√≥w (30 dni):</strong> <span id="envelopeMedian">0.00</span> z≈Ç</div>
                    </div>
                </div>

                <div class="section-card">
                    <h2>üîÆ Symulacja wydatku</h2>
                    <p style="margin-bottom: 15px; opacity: 0.8;">
                        Sprawd≈∫ czy w danej dacie bezpiecznie jest dokonaƒá planowanego wydatku. Algorytm analizuje bud≈ºet, przychody, wydatki (w tym planowane), dane historyczne i Twoje przyzwyczajenia.
                    </p>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Data wydatku</label>
                            <input type="date" id="simulationDate">
                        </div>
                        <div class="form-group">
                            <label>Kwota (z≈Ç)</label>
                            <input type="number" id="simulationAmount" step="0.01" min="0.01" placeholder="np. 500.00">
                        </div>
                        <div class="form-group" style="display: flex; align-items: flex-end;">
                            <button class="btn btn-primary" data-action="simulate-expense">Analizuj</button>
                        </div>
                    </div>
                    <div id="simulationResult"></div>
                </div>
            </section>

            <section id="sourcesSection" class="section">
                <div class="section-card">
                    <h2 id="incomeFormTitle">üí∞ Dodaj przych√≥d</h2>
                    <form id="incomeForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Kwota (z≈Ç)</label>
                                <input type="number" name="incomeAmount" step="0.01" required>
                            </div>
                            <div class="form-group">
                                <label>Typ transakcji</label>
                                <select id="incomeType" name="incomeType" required>
                                    <option value="normal">Zwyk≈Çy</option>
                                    <option value="planned">Planowany</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Data</label>
                                <input type="date" id="incomeDate" name="incomeDate" required>
                            </div>
                            <div class="form-group">
                                <label>Godzina (opcjonalnie)</label>
                                <input type="time" id="incomeTime" name="incomeTime">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>U≈ºytkownik</label>
                                <select id="incomeUser" name="incomeUser" required>
                                    <option value="">Wybierz u≈ºytkownika</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>≈πr√≥d≈Ço</label>
                                <input type="text" id="incomeSource" name="incomeSource" placeholder="np. Wynagrodzenie" autocomplete="off">
                                <div id="sourceButtons" class="top-sources-buttons"></div>
                                <div id="sourceSuggestions" class="suggestions-container"></div>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-success mt-20">Zapisz przych√≥d</button>
                    </form>
                </div>
                
                <div class="section-card">
                    <h2>üîß Korekta posiadanych ≈õrodk√≥w</h2>
                    <p style="margin-bottom: 15px; color: var(--gray);">
                        Aktualne dostƒôpne ≈õrodki: <strong><span id="currentFundsDisplay">0.00</span> z≈Ç</strong>
                    </p>
                    <form id="correctionForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Nowa kwota ca≈Çkowitych ≈õrodk√≥w (z≈Ç)</label>
                                <input type="number" name="correctionAmount" step="0.01" required placeholder="np. 5000.00">
                                <small class="text-muted">Wprowad≈∫ jakƒÖ kwotƒô ≈õrodk√≥w CHCESZ mieƒá po korekcie</small>
                            </div>
                            <div class="form-group">
                                <label>Pow√≥d korekty</label>
                                <input type="text" name="correctionReason" required placeholder="np. B≈ÇƒÖd w rozliczeniu, Korekta bankowa">
                            </div>
                        </div>
                        <button type="submit" class="btn btn-warning mt-20">Wprowad≈∫ korektƒô</button>
                    </form>
                </div>
                
                <div class="section-card">
                    <h3>üìã Historia przychod√≥w</h3>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Data</th><th>Godzina</th><th>Kwota</th><th>U≈ºytkownik</th><th>≈πr√≥d≈Ço</th><th>Typ</th><th>Akcje</th>
                                </tr>
                            </thead>
                            <tbody id="sourcesTableBody">
                                <tr><td colspan="7" class="empty-state">Brak przychod√≥w</td></tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="pagination-container"><div id="incomesPagination"></div></div>
                </div>
            </section>

            <section id="expensesSection" class="section">
                <div class="section-card">
                    <h2 id="expenseFormTitle">üí∏ Dodaj wydatek</h2>
                    <form id="expenseForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Kwota (z≈Ç)</label>
                                <input type="number" name="expenseAmount" step="0.01" required>
                            </div>
                            <div class="form-group">
                                <label>Typ transakcji</label>
                                <select id="expenseType" name="expenseType" required>
                                    <option value="normal">Zwyk≈Çy</option>
                                    <option value="planned">Planowany</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Data</label>
                                <input type="date" id="expenseDate" name="expenseDate" required>
                            </div>
                            <div class="form-group">
                                <label>Godzina (opcjonalnie)</label>
                                <input type="time" id="expenseTime" name="expenseTime">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>U≈ºytkownik</label>
                                <select id="expenseUser" name="expenseUser" required>
                                    <option value="">Wybierz u≈ºytkownika</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Kategoria</label>
                                <input type="text" id="expenseCategory" name="expenseCategory" required autocomplete="off">
                                <div id="categoryButtons" class="top-categories-buttons"></div>
                                <div id="categorySuggestions" class="suggestions-container"></div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Opis</label>
                            <input type="text" id="expenseDescription" name="expenseDescription" required autocomplete="off">
                            <div id="descriptionButtons" class="top-categories-buttons"></div>
                            <div id="descriptionSuggestions" class="suggestions-container"></div>
                        </div>
                        <button type="submit" class="btn btn-primary mt-20">Zapisz wydatek</button>
                    </form>
                </div>
                <div class="section-card">
                    <h3>üìã Historia wydatk√≥w</h3>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Data</th><th>Godzina</th><th>Kwota</th><th>U≈ºytkownik</th><th>Kategoria</th><th>Opis</th><th>Typ</th><th>Akcje</th>
                                </tr>
                            </thead>
                            <tbody id="expensesTableBody">
                                <tr><td colspan="8" class="empty-state">Brak wydatk√≥w</td></tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="pagination-container"><div id="expensesPagination"></div></div>
                </div>
            </section>

            <section id="categoriesSection" class="section">
                <div class="section-card">
                    <h2>üè∑Ô∏è ZarzƒÖdzaj kategoriami</h2>
                    <div class="form-group">
                        <label>Nowa kategoria</label>
                        <div style="display: flex; gap: 10px;">
                            <input type="text" id="newCategoryName" placeholder="Nazwa kategorii" style="flex: 1;">
                            <button class="btn btn-success" data-action="add-category">Dodaj</button>
                        </div>
                    </div>
                    <div class="mt-20">
                        <h3>üìã Lista kategorii</h3>
                        <div id="categoriesList"></div>
                    </div>
                </div>
            </section>

            <section id="analyticsSection" class="section">
                <div class="section-card">
                    <h2>üìà Analiza wydatk√≥w</h2>
                    <div class="analytics-controls">
                        <div class="form-group">
                            <label>Wybierz okres</label>
                            <div class="period-buttons">
                                <button class="period-btn active" data-action="select-period" data-period="all">üìä Wszystko</button>
                                <button class="period-btn" data-action="select-period" data-period="7">7 dni</button>
                                <button class="period-btn" data-action="select-period" data-period="14">14 dni</button>
                                <button class="period-btn" data-action="select-period" data-period="30">30 dni</button>
                                <button class="period-btn" data-action="select-period" data-period="90">90 dni</button>
                                <button class="period-btn" data-action="select-period" data-period="custom">W≈Çasny</button>
                            </div>
                        </div>
                        <div id="customPeriodInputs" class="custom-period" style="display: none;">
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Data od</label>
                                    <input type="date" id="analyticsDateFrom">
                                </div>
                                <div class="form-group">
                                    <label>Data do</label>
                                    <input type="date" id="analyticsDateTo">
                                </div>
                                <div class="form-group" style="display: flex; align-items: flex-end;">
                                    <button class="btn btn-primary" data-action="apply-custom-period">Zastosuj</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <h3>üìä Podsumowanie okresu</h3>
                    <div class="stats-grid">
                        <div class="stat-card danger">
                            <div class="stat-label">Wydatki w okresie</div>
                            <div class="stat-value"><span id="periodExpenses">0.00</span><span class="stat-unit">z≈Ç</span></div>
                        </div>
                        <div class="stat-card success">
                            <div class="stat-label">Przychody w okresie</div>
                            <div class="stat-value"><span id="periodIncomes">0.00</span><span class="stat-unit">z≈Ç</span></div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Liczba wydatk√≥w</div>
                            <div class="stat-value"><span id="periodExpensesCount">0</span></div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Liczba przychod√≥w</div>
                            <div class="stat-value"><span id="periodIncomesCount">0</span></div>
                        </div>
                    </div>
                    <h3>üîÑ Por√≥wnanie z poprzednim okresem</h3>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-label">Zmiana wydatk√≥w</div>
                            <div class="stat-value stat-value-white"><span id="expenseChange">0.0%</span></div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Zmiana przychod√≥w</div>
                            <div class="stat-value stat-value-white"><span id="incomeChange">0.0%</span></div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Zmiana liczby wydatk√≥w</div>
                            <div class="stat-value stat-value-white"><span id="expenseCountChange">0.0%</span></div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Zmiana liczby przychod√≥w</div>
                            <div class="stat-value stat-value-white"><span id="incomeCountChange">0.0%</span></div>
                        </div>
                    </div>
                    <h3>üë• Wydatki u≈ºytkownik√≥w</h3>
                    <div id="userExpensesBreakdown"></div>
                    <h3>üèÜ Top 3 najkosztowniejszych kategorii</h3>
                    <div id="mostExpensiveCategory"></div>
                    <h3>üìä Udzia≈Ç kategorii w wydatkach</h3>
                    <div class="chart-container">
                        <canvas id="categoriesChart" width="800" height="400"></canvas>
                    </div>
                </div>
            </section>

            <section id="savingsGoalsSection" class="section">
                <div class="section-card">
                    <h2>üéØ Oszczednosci</h2>
                    <p style="margin-bottom: 20px; opacity: 0.8;">Zdefiniuj kwote oszczednosci, ktora zostanie wylaczona z budzetu ogolnego. Ta kwota nie bedzie wliczana do dostepnych srodkow.</p>

                    <form id="savingsAmountForm">
                        <div class="form-group">
                            <label for="savingsAmountInput">Kwota oszczednosci (zl)</label>
                            <input type="number" id="savingsAmountInput" name="savingsAmount" step="0.01" min="0" class="form-control" placeholder="0.00" />
                            <small class="text-muted">Podaj kwote, ktora chcesz odlozyc. Zostanie odjeta od dostepnych srodkow.</small>
                        </div>
                        <button type="submit" class="btn btn-primary">Zapisz kwote oszczednosci</button>
                    </form>

                    <div id="savingsStatusInfo" style="margin-top: 20px;"></div>
                </div>
            </section>

            <section id="settingsSection" class="section">
                <div class="section-card">
                    <h2>‚öôÔ∏è Ustawienia bud≈ºetu</h2>

                    <form id="settingsForm">
                        <div class="form-group">
                            <label>Okres dla Koperty Dnia</label>
                            <select id="settingsEnvelopePeriod" name="envelopePeriod" class="form-control">
                                <option value="0">Najkr√≥tszy okres (domy≈õlnie)</option>
                            </select>
                            <small class="text-muted">Wybierz okres bud≈ºetowy dla Koperty Dnia</small>
                        </div>

                        <div class="form-group">
                            <label>Okres dla Dynamiki Wydatk√≥w</label>
                            <select id="settingsDynamicsPeriod" name="dynamicsPeriod" class="form-control">
                                <option value="0">Najkr√≥tszy okres (domy≈õlnie)</option>
                            </select>
                            <small class="text-muted">Wybierz okres bud≈ºetowy dla Dynamiki Wydatk√≥w</small>
                        </div>

                        <button type="submit" class="btn btn-primary">Zapisz ustawienia</button>
                    </form>
                </div>

                <div class="section-card">
                    <h2>üìä Eksport danych do analizy LLM</h2>
                    <p class="text-muted" style="margin-bottom: 15px;">
                        Eksportuj kompletne dane bud≈ºetowe w formacie przystosowanym do analizy przez modele AI (ChatGPT, Claude, itp.).
                        Eksport zawiera wszystkie szczeg√≥≈Çy: przychody, wydatki, kategorie, limity, historiƒô transakcji z dok≈Çadnym osadzeniem w czasie.
                    </p>
                    <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                        <button class="btn btn-success" data-action="export-budget-data" data-format="json">
                            üì• Eksportuj jako JSON
                        </button>
                        <button class="btn btn-success" data-action="export-budget-data" data-format="txt">
                            üìÑ Eksportuj jako TXT (czytelny)
                        </button>
                    </div>
                </div>

                <div class="section-card">
                    <h2>üìú Logi systemu</h2>
                    <div class="logs-info">
                        <p><strong>Rozmiar log√≥w:</strong> <span id="logsSize">0 KB</span></p>
                        <p><strong>Liczba wpis√≥w:</strong> <span id="logsCount">0</span></p>
                    </div>
                    <button class="btn btn-danger mt-20" data-action="clear-logs">üóëÔ∏è Wyczy≈õƒá logi</button>
                    <div class="mt-20">
                        <h3>üìã Ostatnie wpisy</h3>
                        <div id="logsList" class="logs-list"></div>
                    </div>
                </div>
            </section>
        </div>
         <footer class="app-footer">
            <div class="footer-content">
                <p>&copy; 2025 <strong>Krezus</strong> - Inteligentny Bud≈ºet Osobisty</p>
                <p>Stworzone przez <a href="https://wordsmithseo.pl" target="_blank" rel="noopener noreferrer">S≈Çawomir Sprawski - WordsmithSEO.pl</a></p>
                <p class="footer-rights">Wszelkie prawa zastrze≈ºone.</p>
            </div>
        </footer>
    </div>

    <script type="module" src="src/app.js"></script>
    <script>
        function showAuthTab(tab) {
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            if (tab === 'login') {
                document.querySelector('.tab-btn:first-child').classList.add('active');
                document.getElementById('loginTab').classList.add('active');
            } else {
                document.querySelector('.tab-btn:last-child').classList.add('active');
                document.getElementById('registerTab').classList.add('active');
            }
        }
        
        setInterval(() => {
            const fundsDisplay = document.getElementById('currentFundsDisplay');
            const availableFunds = document.getElementById('availableFunds');
            if (fundsDisplay && availableFunds) {
                fundsDisplay.textContent = availableFunds.textContent;
            }
        }, 1000);
    </script>
</body>
</html>